# blayzen-sip Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# SIP Server Configuration
# =============================================================================
SIP_HOST=0.0.0.0
SIP_PORT=5060
SIP_TRANSPORT=udp
# SIP_TRANSPORT options: udp, tcp, both

# RTP port range for media
RTP_PORT_MIN=10000
RTP_PORT_MAX=10100

# =============================================================================
# REST API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8080

# Gin mode: debug, release, test
GIN_MODE=debug

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgres://blayzen:blayzen@localhost:5432/blayzen_sip?sslmode=disable

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# =============================================================================
# Cache Configuration (Valkey/Redis)
# =============================================================================
VALKEY_URL=localhost:6379
VALKEY_PASSWORD=
VALKEY_DB=0

# Cache TTL for routing rules
CACHE_ROUTE_TTL=5m

# =============================================================================
# Default WebSocket Configuration
# =============================================================================
# Fallback WebSocket URL if no route matches
DEFAULT_WEBSOCKET_URL=ws://localhost:8081/ws

# WebSocket timeouts
WS_READ_TIMEOUT=60s
WS_WRITE_TIMEOUT=10s
WS_PING_INTERVAL=30s

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=info
# LOG_LEVEL options: debug, info, warn, error

LOG_FORMAT=text
# LOG_FORMAT options: text, json

# =============================================================================
# Security
# =============================================================================
# Enable/disable auth for API (set to false for development)
API_AUTH_ENABLED=true

# =============================================================================
# Metrics & Observability
# =============================================================================
METRICS_ENABLED=true
METRICS_PATH=/metrics

